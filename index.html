<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>LingoMaster - Language Learning Platform</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <link rel="shortcut icon" href="Idara logo.png" type="image/x-icon">
  <style>
    /* Modern Color Palette - Only using the three provided colors */
    :root {
      --primary: #01b7c5;
      --primary-dark: #0199a5;
      --secondary: #1a144c;
      --accent: #01b7c5;
      --text-primary: #1a144c;
      --text-secondary: #4a4863;
      --background: #ffffff;
      --card-bg: #ffffff;
      --success: #01b7c5;
      --warning: #1a144c;
      --error: #1a144c;
      --gray-100: #f0f9fa;
      --gray-200: #e6f4f5;
      --gray-300: #d1e8ea;
    }

    /* Reset and Base Styling */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: var(--background);
      color: var(--text-primary);
      line-height: 1.6;
      overflow-x: hidden;
    }

    @supports (font-variation-settings: normal) {
      body {
        font-family: 'Inter var', 'Segoe UI', sans-serif;
      }
    }

    /* Navigation Bar */
    .navbar {
      background: var(--card-bg);
      padding: 1rem 2rem;
      box-shadow: 0 4px 12px rgba(26, 20, 76, 0.08);
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 0;
      z-index: 1000;
      transition: all 0.3s ease;
    }

    .navbar.scrolled {
      padding: 0.8rem 2rem;
      box-shadow: 0 4px 20px rgba(26, 20, 76, 0.12);
    }

    .brand {
      font-size: 1.8rem;
      font-weight: 800;
      color: var(--primary);
      display: flex;
      align-items: center;
      gap: 0.6rem;
      text-decoration: none;
    }

    .brand-logo {
      width: 36px;
      height: 36px;
      background: var(--primary);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
    }

    .user-profile {
      display: flex;
      align-items: center;
      gap: 1.2rem;
      font-size: 0.95rem;
    }

    .xp-badge,
    .streak-counter {
      background: var(--gray-100);
      padding: 8px 16px;
      border-radius: 24px;
      display: flex;
      align-items: center;
      gap: 6px;
      font-weight: 600;
      box-shadow: 0 2px 6px rgba(26, 20, 76, 0.05);
      transition: all 0.2s ease;
    }

    .xp-badge:hover,
    .streak-counter:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(26, 20, 76, 0.08);
    }

    .xp-badge {
      color: var(--primary);
    }

    .streak-counter {
      color: var(--secondary);
    }

    /* Main Container */
    .main-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    /* Card Components */
    .card {
      background: var(--card-bg);
      border-radius: 16px;
      box-shadow: 0 10px 30px rgba(26, 20, 76, 0.08);
      overflow: hidden;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      margin-bottom: 30px;
    }

    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 40px rgba(26, 20, 76, 0.12);
    }

    .card-header {
      padding: 24px 30px 0;
      margin-bottom: 15px;
    }

    .card-body {
      padding: 0 30px 30px;
    }

    /* Typography */
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      font-weight: 700;
      line-height: 1.3;
      margin-bottom: 0.5em;
      color: var(--text-primary);
    }

    h1 {
      font-size: 2.5rem;
      background: linear-gradient(135deg, var(--primary), var(--primary-dark));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 0.8rem;
    }

    h2 {
      font-size: 2rem;
      color: var(--primary);
    }

    h3 {
      font-size: 1.5rem;
      color: var(--primary-dark);
    }

    p {
      margin-bottom: 1.2rem;
      color: var(--text-secondary);
    }

    /* Forms */
    .form-group {
      margin-bottom: 20px;
    }

    .form-label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: var(--text-primary);
    }

    input[type="text"],
    input[type="password"],
    input[type="email"] {
      width: 100%;
      padding: 16px 20px;
      font-size: 1rem;
      border: 2px solid var(--gray-300);
      border-radius: 12px;
      outline: none;
      transition: all 0.3s ease;
      background: var(--gray-100);
    }

    input[type="text"]:focus,
    input[type="password"]:focus,
    input[type="email"]:focus {
      border-color: var(--primary);
      background: var(--card-bg);
      box-shadow: 0 0 0 3px rgba(1, 183, 197, 0.15);
    }

    /* Buttons */
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 16px 28px;
      font-size: 1rem;
      font-weight: 600;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.2s ease;
      border: none;
      outline: none;
      text-decoration: none;
      gap: 8px;
    }

    .btn-primary {
      background: var(--primary);
      color: white;
      box-shadow: 0 4px 12px rgba(1, 183, 197, 0.25);
    }

    .btn-primary:hover {
      background: var(--primary-dark);
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(1, 183, 197, 0.35);
    }

    .btn-primary:active {
      transform: translateY(0);
    }

    .btn-secondary {
      background: var(--gray-100);
      color: var(--text-primary);
    }

    .btn-secondary:hover {
      background: var(--gray-200);
    }

    .btn-success {
      background: var(--success);
      color: white;
    }

    .btn-lg {
      padding: 18px 32px;
      font-size: 1.1rem;
    }

    .btn-block {
      width: 100%;
    }

    /* Game Elements */
    .word {
      background: var(--gray-100);
      display: inline-block;
      padding: 12px 18px;
      margin: 5px;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.2s ease;
      box-shadow: 0 2px 5px rgba(26, 20, 76, 0.05);
    }

    .word:hover {
      background: var(--primary);
      color: white;
      transform: translateY(-2px);
    }

    #answerBox {
      min-height: 60px;
      padding: 15px;
      background: var(--gray-100);
      border-radius: 12px;
      border: 2px dashed var(--primary);
      margin-bottom: 20px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    /* Progress Elements */
    .progress-container {
      margin: 25px 0;
    }

    .progress-label {
      display: flex;
      justify-content: space-between;
      margin-bottom: 8px;
      font-weight: 600;
      color: var(--text-secondary);
    }

    .progress-bar {
      height: 10px;
      background: var(--gray-200);
      border-radius: 10px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: var(--primary);
      border-radius: 10px;
      transition: width 0.5s ease;
      box-shadow: 0 0 10px rgba(1, 183, 197, 0.3);
    }

    /* Lesson Content */
    .lesson-content {
      padding: 20px 0;
    }

    .question-image {
      width: 100%;
      max-width: 500px;
      border-radius: 12px;
      margin: 20px auto;
      display: block;
      box-shadow: 0 5px 15px rgba(26, 20, 76, 0.08);
    }

    /* MCQ Options */
    .mcq-options {
      display: flex;
      flex-direction: column;
      gap: 12px;
      margin: 25px 0;
    }

    .mcq-option {
      padding: 18px 20px;
      background: var(--gray-100);
      border: 2px solid var(--gray-300);
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.2s ease;
      text-align: left;
      font-weight: 500;
    }

    .mcq-option:hover {
      background: var(--gray-200);
      border-color: var(--primary);
      transform: translateY(-2px);
    }

    .mcq-option.correct {
      background: rgba(1, 183, 197, 0.1);
      border-color: var(--success);
      color: var(--success);
    }

    .mcq-option.incorrect {
      background: rgba(26, 20, 76, 0.1);
      border-color: var(--error);
      color: var(--error);
    }

    /* Result Display */
    .result-feedback {
      padding: 16px 20px;
      border-radius: 12px;
      margin: 20px 0;
      font-weight: 600;
      text-align: center;
      animation: fadeIn 0.5s ease;
    }

    .result-correct {
      background: rgba(1, 183, 197, 0.1);
      color: var(--success);
      border: 1px solid rgba(1, 183, 197, 0.3);
    }

    .result-incorrect {
      background: rgba(26, 20, 76, 0.1);
      color: var(--error);
      border: 1px solid rgba(26, 20, 76, 0.3);
    }

    /* Hearts system */
    .hearts-container {
      display: flex;
      justify-content: center;
      margin: 20px 0;
      gap: 10px;
    }

    .heart {
      width: 32px;
      height: 32px;
      background-color: var(--primary);
      position: relative;
      transform: rotate(45deg);
      transition: all 0.3s ease;
    }

    .heart:before,
    .heart:after {
      content: "";
      width: 32px;
      height: 32px;
      background-color: var(--primary);
      border-radius: 50%;
      position: absolute;
      transition: all 0.3s ease;
    }

    .heart:before {
      top: -16px;
      left: 0;
    }

    .heart:after {
      top: 0;
      left: -16px;
    }

    .heart.lost {
      background-color: var(--gray-300);
      transform: rotate(45deg) scale(0.9);
    }

    .heart.lost:before,
    .heart.lost:after {
      background-color: var(--gray-300);
    }

    /* Lesson completion screen */
    .completion-screen {
      text-align: center;
      padding: 40px 30px;
    }

    .completion-badge {
      width: 120px;
      height: 120px;
      margin: 0 auto 25px;
      position: relative;
    }

    .completion-badge i {
      font-size: 50px;
      color: white;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 2;
    }

    .completion-badge:before {
      content: '';
      position: absolute;
      width: 100%;
      height: 100%;
      background: var(--primary);
      border-radius: 50%;
      z-index: 1;
      animation: pulse 2s infinite;
    }

    .completion-badge:after {
      content: '';
      position: absolute;
      width: 110%;
      height: 110%;
      top: -5%;
      left: -5%;
      background: var(--primary);
      border-radius: 50%;
      opacity: 0.2;
      z-index: 0;
      animation: pulse 2s infinite reverse;
    }

    .xp-earned {
      font-size: 3rem;
      font-weight: 800;
      color: var(--secondary);
      margin: 15px 0;
      position: relative;
      display: inline-block;
    }

    .xp-earned:after {
      content: 'XP';
      position: absolute;
      top: -15px;
      right: -40px;
      font-size: 1.2rem;
      font-weight: 700;
      color: var(--text-secondary);
    }

    /* Progress Circle Styles - ADDED THIS SECTION */
    .progress-circle {
      position: relative;
      width: 120px;
      height: 120px;
      margin: 0 auto 20px;
    }

    .progress-circle svg {
      width: 100%;
      height: 100%;
      transform: rotate(-90deg);
    }

    .progress-circle-bg {
      fill: none;
      stroke: var(--gray-200);
      stroke-width: 6;
    }

    .progress-circle-progress {
      fill: none;
      stroke: var(--primary);
      stroke-width: 6;
      stroke-linecap: round;
      stroke-dasharray: 251.2;
      stroke-dashoffset: 251.2;
      transition: stroke-dashoffset 1s ease;
    }

    .progress-circle-text {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--primary);
    }

    :root {
      --primary: #01b7c5;
      --primary-dark: #0199a5;
      --secondary: #1a144c;
      --accent: #01b7c5;
      --text-primary: #1a144c;
      --text-secondary: #4a4863;
      --background: #ffffff;
      --card-bg: #ffffff;
      --success: #01b7c5;
      --warning: #1a144c;
      --error: #1a144c;
      --gray-100: #f0f9fa;
      --gray-200: #e6f4f5;
      --gray-300: #d1e8ea;
    }

    /* Roadmap Container */
    .roadmap-container {
      position: relative;
      margin: 60px auto;
      width: 90%;
      max-width: 850px;
      background: var(--background);
      padding: 50px 30px;
      border-radius: 24px;
      overflow: hidden;
    }

    /* Roadmap Layout */
    .roadmap {
      display: flex;
      flex-direction: column;
      position: relative;
      gap: 100px;
    }

    /* Zig-zag positioning */
    .step {
      position: relative;
      display: flex;
      justify-content: center;
      width: 100%;
      opacity: 0;
      transform: translateY(50px) scale(0.9);
      animation: popIn 0.8s ease forwards;
    }

    .step:nth-child(even) {
      justify-content: flex-start;
      padding-left: 120px;
    }

    .step:nth-child(odd) {
      justify-content: flex-end;
      padding-right: 120px;
    }

    /* Connector Line */
    .step::before {
      content: "";
      position: absolute;
      top: -80px;
      left: 50%;
      transform: translateX(-50%);
      width: 6px;
      height: 80px;
      background: repeating-linear-gradient(to bottom,
          var(--secondary),
          var(--secondary) 12px,
          transparent 12px,
          transparent 22px);
      filter: drop-shadow(0 0 6px var(--secondary));
      border-radius: 6px;
      z-index: 0;
    }

    .step:first-child::before {
      display: none;
    }

    /* Level Node */
    .level-node {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      background: radial-gradient(circle at top left, var(--gray-200), var(--gray-300));
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      font-weight: bold;
      color: var(--text-secondary);
      border: 6px solid var(--secondary);
      box-shadow: inset 0 4px 8px rgba(0, 0, 0, 0.1),
        0 12px 25px rgba(0, 0, 0, 0.2);
      transition: all 0.35s ease;
      cursor: not-allowed;
      z-index: 2;
      position: relative;
      overflow: hidden;
    }

    /* Shine effect */
    .level-node::after {
      content: "";
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(120deg,
          rgba(255, 255, 255, 0.2) 0%,
          rgba(255, 255, 255, 0) 60%);
      transform: rotate(25deg);
      pointer-events: none;
      animation: shine 6s infinite;
    }

    /* Icon inside */
    .level-node i {
      font-size: 30px;
      margin-bottom: 6px;
      opacity: 0.7;
      transition: all 0.3s ease;
    }

    /* Unlocked */
    .level-node.unlocked {
      background: radial-gradient(circle at top left, var(--primary), var(--primary-dark));
      color: #fff;
      border-color: var(--primary-dark);
      cursor: pointer;
      box-shadow: 0 12px 0 var(--primary-dark), 0 0 30px rgba(1, 183, 197, 0.9);
      animation: pulse 2s infinite;
    }

    .level-node.unlocked i {
      color: #fff;
      opacity: 1;
    }

    .level-node.unlocked:hover {
      transform: scale(1.15) rotate(-2deg);
      box-shadow: 0 15px 0 var(--primary-dark), 0 0 40px rgba(1, 183, 197, 1);
    }

    /* Completed */
    .level-node.completed {
      background: radial-gradient(circle at top left, var(--warning), var(--secondary));
      border-color: var(--secondary);
      color: #fff;
      box-shadow: 0 12px 0 var(--secondary), 0 0 35px rgba(26, 20, 76, 0.9);
    }

    .level-node.completed i {
      color: #fff;
    }

    /* Animations */
    @keyframes popIn {
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    @keyframes pulse {
      0% {
        transform: scale(1);
        box-shadow: 0 0 0 0 rgba(88, 204, 2, 0.6);
      }

      70% {
        transform: scale(1.05);
        box-shadow: 0 0 0 30px rgba(88, 204, 2, 0);
      }

      100% {
        transform: scale(1);
        box-shadow: 0 0 0 0 rgba(88, 204, 2, 0);
      }
    }

    @keyframes shine {
      0% {
        transform: translate(-100%, -100%) rotate(25deg);
      }

      100% {
        transform: translate(200%, 200%) rotate(25deg);
      }
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .navbar {
        padding: 1rem;
        flex-direction: column;
        gap: 15px;
      }

      .navbar.scrolled {
        padding: 0.8rem 1rem;
      }

      .user-profile {
        width: 100%;
        justify-content: center;
        flex-wrap: wrap;
      }

      h1 {
        font-size: 2rem;
      }

      h2 {
        font-size: 1.7rem;
      }

      .card {
        border-radius: 12px;
      }

      .card-header,
      .card-body {
        padding: 20px;
      }

      .roadmap-line {
        left: 30px;
      }

      .step {
        justify-content: flex-start;
        padding-left: 80px;
      }
    }

    @media (max-width: 480px) {
      .brand {
        font-size: 1.5rem;
      }

      .btn {
        padding: 14px 20px;
        font-size: 0.95rem;
      }

      .step {
        padding-left: 60px;
      }

      .level-node {
        width: 80px;
        height: 80px;
        font-size: 14px;
      }

      .xp-badge,
      .streak-counter {
        padding: 6px 12px;
        font-size: 0.85rem;
      }
    }

    /* Utility Classes */
    .text-center {
      text-align: center;
    }

    .mt-1 {
      margin-top: 10px;
    }

    .mt-2 {
      margin-top: 20px;
    }

    .mt-3 {
      margin-top: 30px;
    }

    .mb-1 {
      margin-bottom: 10px;
    }

    .mb-2 {
      margin-bottom: 20px;
    }

    .mb-3 {
      margin-bottom: 30px;
    }

    .hidden {
      display: none;
    }

    .fade-in {
      animation: fadeIn 0.5s ease forwards;
    }

    /* Admin Panel Styles */
    #adminPanel {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(255, 255, 255, 0.98);
      z-index: 2000;
      overflow-y: auto;
      padding: 20px;
    }

    .admin-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
      padding-bottom: 20px;
      border-bottom: 1px solid var(--gray-300);
    }

    .user-card {
      background: var(--gray-100);
      padding: 20px;
      margin: 15px 0;
      border-radius: 12px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 2px 8px rgba(26, 20, 76, 0.06);
      transition: all 0.2s ease;
    }

    .user-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(26, 20, 76, 0.1);
    }

    .admin-login-form {
      max-width: 450px;
      margin: 50px auto;
    }

    .admin-actions {
      display: flex;
      gap: 12px;
      margin-bottom: 25px;
      flex-wrap: wrap;
    }

    /* Confetti animation */
    .confetti {
      position: fixed;
      width: 12px;
      height: 12px;
      opacity: 0.7;
      z-index: 1000;
      animation: confetti-fall 5s linear forwards;
    }

    @keyframes confetti-fall {
      0% {
        transform: translateY(-100px) rotate(0deg);
        opacity: 1;
      }

      100% {
        transform: translateY(100vh) rotate(360deg);
        opacity: 0;
      }
    }

    /* Tooltip styling */
    .tooltip {
      position: relative;
      display: inline-block;
      border-bottom: 1px dotted var(--primary);
      cursor: help;
    }

    .tooltip .tooltiptext {
      visibility: hidden;
      width: 200px;
      background-color: var(--text-primary);
      color: white;
      text-align: center;
      border-radius: 8px;
      padding: 10px;
      position: absolute;
      z-index: 1;
      bottom: 125%;
      left: 50%;
      margin-left: -100px;
      opacity: 0;
      transition: opacity 0.3s;
      font-weight: normal;
      font-size: 0.9rem;
      line-height: 1.4;
    }

    .tooltip .tooltiptext::after {
      content: "";
      position: absolute;
      top: 100%;
      left: 50%;
      margin-left: -5px;
      border-width: 5px;
      border-style: solid;
      border-color: var(--text-primary) transparent transparent transparent;
    }

    .tooltip:hover .tooltiptext {
      visibility: visible;
      opacity: 1;
    }
  </style>
</head>

<body>

  <div id="adminPanel">
    <div class="card">
      <div class="card-body">
        <div class="admin-header">
          <h2><i class="fas fa-lock"></i> Admin Dashboard</h2>
          <button class="btn btn-secondary" onclick="hideAdminPanel()">Close</button>
        </div>

        <div id="adminLogin">
          <div class="admin-login-form">
            <h3 class="text-center">Admin Authentication</h3>
            <div class="form-group">
              <label class="form-label" for="adminUsername">Username</label>
              <input type="text" id="adminUsername" placeholder="Admin username">
            </div>
            <div class="form-group">
              <label class="form-label" for="adminPassword">Password</label>
              <input type="password" id="adminPassword" placeholder="Admin password">
            </div>
            <button class="btn btn-primary btn-block" onclick="adminLogin()">Access Dashboard</button>
          </div>
        </div>

        <div id="adminContent" class="hidden">
          <div class="admin-actions">
            <button class="btn btn-primary" onclick="loadUserData()"><i class="fas fa-sync-alt"></i> Refresh
              Data</button>
            <button class="btn btn-primary" onclick="exportUserData()"><i class="fas fa-download"></i>
              Export
              Data</button>
            <button class="btn btn-secondary" style="background-color: var(--error); color: white;"
              onclick="resetAllData()"><i class="fas fa-trash"></i> Reset All Data</button>
          </div>
          <h3>User Statistics</h3>
          <div id="userStats"></div>
        </div>
      </div>
    </div>
  </div>

  <nav class="navbar" id="navbar">
    <a href="#" class="brand">
      <!-- <div class="brand-logo">
        <i class="fas fa-language"></i>
      </div> -->
      <img src="Idara logo.png" alt="logo!" height="50">
      LingoMaster
    </a>
    <div class="user-profile">
      <div class="xp-badge"><i class="fas fa-star"></i> <span id="xpNav">0</span> XP</div>
      <div class="streak-counter"><i class="fas fa-fire"></i> <span id="streak">0</span> Day Streak</div>
      <button class="btn btn-secondary" onclick="showAdminLogin()" style="padding: 8px 16px;">Admin</button>
    </div>
  </nav>

  <div class="main-container">
    <div class="card" id="login">
      <div class="card-body text-center">
        <h1>Welcome to LingoMaster</h1>
        <p class="mb-2">Learn languages with fun, interactive lessons tailored to your level!</p>
        <div class="form-group">
          <input type="text" id="username" placeholder="Enter your name to begin" /><br><br>
          <input type="text" id="class" placeholder="Enter your class" /><br><br>
          <input type="text" id="campus" placeholder="Enter your campus" />
        </div>
        <button class="btn btn-primary btn-lg btn-block" onclick="startApp()">
          <i class="fas fa-rocket"></i> Start Learning Journey
        </button>
      </div>
    </div>

    <div class="card hidden" id="loading">
      <div class="card-body text-center">
        <h2><i class="fas fa-spinner fa-spin"></i> Loading...</h2>
        <p>Preparing your personalized learning experience</p>
      </div>
    </div>

    <div class="card hidden" id="roadmap-container">
      <div class="card-header">
        <h2>Your Learning Path</h2>
        <p>Complete levels to unlock new content and track your progress</p>
      </div>
      <div class="card-body">
        <div class="roadmap-container">
          <div class="roadmap-line"></div>
          <div class="roadmap" id="roadmap"></div>
        </div>
      </div>
    </div>

    <div class="card hidden" id="lesson">
      <div class="card-body">
        <div class="hearts-container" id="heartsContainer">
          <div class="heart" id="heart1"></div>
          <div class="heart" id="heart2"></div>
          <div class="heart" id="heart3"></div>
          <div class="heart" id="heart4"></div>
          <div class="heart" id="heart5"></div>
        </div>

        <div class="progress-container">
          <div class="progress-label">
            <span>Lesson Progress</span>
            <span id="progressPercentage">0%</span>
          </div>
          <div class="progress-bar">
            <div class="progress-fill" id="progressBar"></div>
          </div>
        </div>

        <div class="level-title text-center mb-2">
          <div class="level-badge" id="currentLevelBadge">1</div>
          <h2 id="questionTitle">Question</h2>
        </div>

        <div class="lesson-content" id="questionContent"></div>

        <div class="result-feedback hidden" id="result"></div>

        <button class="btn btn-primary btn-block mt-2 hidden" id="nextButton" onclick="nextQuestion()">
          Next Question <i class="fas fa-arrow-right"></i>
        </button>

        <div class="xp-box text-center mt-3">
          <div class="xp-earned" id="xp">0</div>
          <p>Total XP Earned</p>
        </div>
      </div>
    </div>

    <div class="card hidden" id="lessonComplete">
      <div class="card-body">
        <div class="completion-screen">
          <div class="completion-badge">
            <i class="fas fa-trophy"></i>
          </div>
          <h2>Lesson Complete!</h2>
          <p>You've successfully completed this lesson</p>

          <div class="progress-circle mt-3 mb-2">
            <svg viewBox="0 0 100 100">
              <circle class="progress-circle-bg" cx="50" cy="50" r="40" />
              <circle class="progress-circle-progress" cx="50" cy="50" r="40" stroke-dasharray="251.2"
                id="progressCircle" />
            </svg>
            <div class="progress-circle-text" id="progressText">75%</div>
          </div>

          <p>Total XP Earned</p>
          <div class="xp-earned" id="totalXp">12</div>

          <p id="performanceText" class="mb-3">GOOD EFFORT</p>

          <button class="btn btn-primary btn-lg" onclick="showRoadmap()">
            <i class="fas fa-map"></i> Back to Learning Path
          </button>
        </div>
      </div>
    </div>

    <audio id="winSound" src="correct-6033.mp3" preload="auto"></audio>
    <audio id="oopsSound" src="wrong-38598.mp3" preload="auto"></audio>
    <audio id="levelUpSound" src="level-up-06-370051.mp3" preload="auto"></audio>
  </div>

  <script>
    // The JavaScript code remains exactly the same as in your original code
    // Only CSS and HTML structure have been enhanced
    // All functionality is preserved

    // Base64 encoded images for lesson content
    const image2 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAOVBMVEX///8AAADn5+fd3d3T09PMzMzx8fH4+PjFxcWtra22traenp6QkJBtbW1ZWVlJSUk0NDQmJiYSEhLeKTI4AAAACXBIWXMAAAsTAAALEwEAmpwYAAADDElEQVR4nO2c226jMBBFjQED5pL7v/9yQy5t2kZqpVHnYdXztoqlwzA2BkKzLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA";
    const image3 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAOVBMVEX///8AAADn5+fd3d3T09PMzMzx8fH4+PjFxcWtra22traenp6QkJBtbW1ZWVlJSUk0NDQmJiYSEhLeKTI4AAAACXBIWXMAAAsTAAALEwEAmpwYAAADDElEQVR4nO2c226jMBBFjQED5pL7v/9yQy5t2kZqpVHnYdXztoqlw2A2BkKzLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA";

    // Add admin credentials (for demo purposes)
    const ADMIN_CREDENTIALS = {
      username: "admin",
      password: "lingo123"
    };

    // User data storage functions
    function getUserData() {
      return JSON.parse(localStorage.getItem('lingoUsers') || '{}');
    }

    function saveUserData(users) {
      localStorage.setItem('lingoUsers', JSON.stringify(users));
    }

    let currentQuestion = 0;
    let xp = 0;
    let streak = 0;
    let user = '';
    let unlockedLevel = 1;
    let selectedLevel = 1;
    let correctAnswersInLesson = 0;

    const dictionary = {
      //level 01
      "solo": { meaning: "By oneself", example: "He went solo on his trip" },
      "means": { meaning: "Has as a meaning", example: "Big means not small" },
      "alone": { meaning: "With no one else", example: "He lives alone" },
      "planes": { meaning: "Flying vehicles", example: "planes fly in the sky." },
      "take": { meaning: "leave the ground", example: "The plane takes off quickly" },
      "off": { meaning: "leave the ground", example: "The plane takes off quickly" },
      "and": { example: "I like ice-cream and cake" },
      "leave": { meaning: "Go a way from", example: "They leave the store" },
      "one": { meaning: "a single", example: "There is one apple" },
      "airport": { meaning: "Place for planes", example: "We go to the airport." },
      "a": { meaning: "Not many", example: "A few children play there" },
      "few": { meaning: "Not many", example: "A few children play there" },
      "hours": { meaning: "60 minutes", example: "it takes two hours" },
      "later": { meaning: "After now", example: "I will it later" },
      "They": { example: "They are very big" },
      "land": { meaning: "Come to the ground", example: "The plane lands safely" },
      "when": { meaning: "at the time", example: "i sleep when its dark." },
      "you": { example: "you are my frind" },
      "do": { meaning: "perform an action", example: "i do my homework" },
      "something": { meaning: "a thing or action", example: "He saw something outside." },
      "for": { meaning: "never bofore", example: "She rode a bike for the first time." },
      "the": { meaning: "never bofore", example: "She rode a bike for the first time." },
      "first": { meaning: "never bofore", example: "She rode a bike for the first time." },
      "time": { meaning: "never bofore", example: "She rode a bike for the first time." },
      "have": { meaning: "has completed in the past", example: "i have eaten breakfast" },
      "never": { meaning: "not ever", example: "i never drink soda." },
      "done": { meaning: "finished", example: "She has done her work." },
      "it": { example: "Can you find it in the box?" },
      "before": { meaning: "prior to", example: "i visited paris before." },
      "that": { example: "that car is fast" },
      "i'am": { meaning: "I am", example: "I'am happy today." },
      "traveling": { meaning: "going on a trip", example: "She's traveling to Paris." },
      "so": { meaning: "and so, because", example: "She's good, so she will win." },
      "very": { meaning: "a lot, much", example: "He's very hungry." },
      "traveler": { meaning: "a person who goes to many places", example: "He is traveler" },
      "is": { example: "She is a teacher" },
      "person": { meaning: "a human being", example: "She is a happy person." },
      "who": { meaning: "Used to connect a subject", example: "She is a happy person." },
      "travels": { meaning: "Goes to many places", example: "She travels every year." },
      "how": { meaning: "asking the number of", example: "How many books do you have?" },
      "many": { meaning: "asking the number of", example: "How many books do you have?" },
      "countries": { meaning: "nations or lands", example: "“I've visited five countries.”" },
      "been": { example: "“She's been in love before.”" },
      "to": { example: "“I went to the store”" },
      "my": { example: "“My car is blue”" },
      "daughter": { meaning: "A female child", example: "“Her daughter is very smart”" },
      "is": { example: "“She is my friend”" },
      "too": { meaning: "also, as well", example: "I'am tired, too." },
      "she": { example: "“She plays soccer.”" },
      "visits": { meaning: "Goes to see", example: "He visits his mom." },
      "new": { meaning: "not old, recently made.", example: "I got a new phone" },
      "country": { meaning: "A nation, Area with borders", example: "Pakistan is a country" },
      "every": { meaning: "each one of", example: "I see him every day." },
      "month": { meaning: "About 30 days", example: "February is a short month." },

      //level 02
      "I": { example: "“I am your teacher.”" },
      "Bought": { meaning: "past tense of buy", example: "“I bought a gift.”" },
      "Tickets": { meaning: "a thing that let you enter a place or access an event", example: "“She bought two tickets for the concert.”" },
      "For": { meaning: "with the purpose of", example: "“Tom bought flowers for his wife.”" },
      "A": { example: "“I saw a bird.”" },
      "flight": { meaning: "trip by airplane", example: "“We took a flight to Paris.”" },
      "That": { example: "He found a toy that he liked." },
      "Land": { meaning: "touches the ground", example: "“The plane lands in an hour.”" },
      "at": { meaning: "used to show exactly when something happens", example: "“We ate lunch at noon.”" },
      "10 a.m": { meaning: "ten o'clock in the morning", example: "“Her train arrives at 10 a.m.”" },
      "because": { example: "“I'm happy because it's sunny.”" },
      "Prefer": { meaning: "like better", example: "“I prefer apples to oranges.”" },
      "an": { example: "“She has an umbrella.”" },
      "early": { meaning: "before a usual time", example: "“He wakes up early.”" },
      "arrival": { meaning: "act of getting to a place", example: "“Her arrival at the party was surprising.”" },
      "Me": { meaning: "used to get someone's attention", example: "“Excuse me, can you help me?”" },
      "Do": { meaning: "used to form question", example: "“Do you like pizza?”" },
      "You": { example: "“You are my friend.”" },
      "know": { meaning: "be aware of", example: "“I know her name.”" },
      "our": { example: "“This is our car.”" },
      "arrival": { meaning: "when you reach somewhere", example: "“The plane had a safe arrival.”" },
      "time": { meaning: "when something occurs", example: "“What time is lunch ?”" },
      "Travelers": { meaning: "people exploring new places", example: "“Travelers love seeing new things.”" },
      "can": { meaning: "able to", example: "“You can swim in the pool.”" },
      "take": { meaning: "go on", example: "“I can take a walk.”" },
      "short ride": { meaning: "brief trip", example: "“Let's have a short ride.”" },
      "on": { meaning: "using, by means of", example: "“We can go on foot.”" },
      "shuttle": { meaning: "transport that goes back and forth", example: "“You can take a shuttle to work.”" },
      "to": { example: "“He is walking to school.”" },
      "between": { meaning: "in the middle of two", example: "“I am sitting between two people.”" },
      "Two": { meaning: 'one plus one', example: "“I have two apples.”" },
      "nearby": { meaning: "Close", example: "“I live nearby the school.”" },
      "places": { meaning: "Locations", example: "“There are many beautiful places to visit.”" },

      //level 03
      "After": { meaning: "following in time", example: "“After school, we will play.”" },
      "I": { example: "“I am happy.”" },
      "Got": { meaning: "arrived at", example: "“I got to the school early.”" },
      "My": { example: "“My toy is blue.”" },
      "Room": { meaning: " a space inside a building", example: "“Her room is clean.”" },
      "I": { example: "“I like ice cream.”" },
      "Unpacked": { meaning: "removed items from", example: "“She unpacked the bag.”" },
      "My": { example: "“My dog is friendly.”" },
      "Suitcase": { meaning: "a container for travel", example: "“His suitcase is heavy.”" },
      "And": { example: "“I have a cat and a dog.”" },
      "Put": { meaning: " Place", example: "“Put the pen on the table.”" },
      "My": { example: "“My socks are wet.”" },
      "Clothes": { meaning: "what people wear", example: "“Wash your clothes.”" },
      "In": { meaning: "Inside", example: "“She is in her room.”" },
      "The": { example: "“The cat is hungry.”" },
      "Closet": { meaning: "a small room for storage", example: " “The towels are in the closet.”" },
      "When": { meaning: "at the time that", example: "“When I was young, I loved toys.”" },
      "You": { example: "“You look tired.”" },
      "Do": { meaning: "Perform", example: "“Do your homework.”" },
      "The": { example: "“The book is interesting.”" },
      "Laundry": { meaning: " clothes to be washed", example: "“I have a lot of laundry.”" },
      "You": { example: "“You are running fast.”" },
      "Wash": { meaning: "clean with water", example: "“Wash your hands.”" },
      "Your": { example: "“Your phone is ringing.”" },
      "Clothes": { meaning: "what you wear on your body", example: " “I buy new clothes.”" },
      "Excuse": { meaning: "used to ask for attention", example: "“Excuse me, which way is the restroom?”" },
      "Do": { meaning: "used in questions", example: "“Do you want some water?”" },
      "You": { example: " “You are my friend.”" },
      "Have": { meaning: "Possess", example: "“She has two cats.”" },
      "A": { example: "“I want a sandwich.”" },
      "Laundry": { meaning: "clothes to be washed", example: "“I need to do my laundry.”" },
      "Room": { meaning: "space inside a building", example: "“This room is very small.”" },
      "I": { example: "“I like this cake.”" },
      "Paid": { meaning: "gave money for", example: "“I paid for that toy.”" },
      "For": { example: "in exchange for", example: "“He bought a gift for her.”" },
      "The": { example: "“I saw the cat.”" },
      "Hotel": { meaning: "place where people pay to stay", example: "“We booked a hotel for our trip.”" },
      "Room": { meaning: "a space inside a building", example: " “Please clean your room.”" },
      "But": { meaning: "However", example: " “John is tired,  but he's still working.”" },
      "Breakfast": { meaning: "first meal of the day", example: "“I usually eat breakfast in the morning.”" },
      "Costs": { meaning: " needs money to buy", example: "“This toy costs ten dollars.”" },
      "Had to": { meaning: "Necessary", example: "“I had to cancel my plans.”" },
      "Pay": { meaning: " give money for", example: " “I need to pay the bill.”" },
      "Again": { meaning: "one more time", example: "“Please try again.”" },
      "If": { meaning: "in the case", example: "“If it rains, bring an umbrella.”" },
      "You": { example: "“You look happy.”" },
      "Want": { meaning: " Desire", example: "“I want to eat pizza.”" },
      "Stay": { meaning: "remain in a place", example: "“Please stay at my house.”" },
      "Another": { meaning: "one more", example: "“I need another pen.”" },
      "Night": { meaning: " time when it's dark", example: "“It's cold at night.”" },
      "It": { example: "“If you like it, buy it.”" },
      "Will": { meaning: "used for future", example: "“I will call you.”" },
      "Extra": { meaning: "more than usual", example: "“I paid extra for speed.”" },
      "Here": { example: "“Here is my new car.”" },
      "Your": { example: " “Your bag is on the table.”" },
      "Room": { meaning: "place inside a building", example: "“My room is very small.”" },
      "Key": { meaning: "tool to open a lock", example: "“I lost my house key.”" },
      "Would": { meaning: "used to ask politely", example: "“Would you help me?”" },
      "You": { example: "“You are my best friend.”" },
      "Like to": { meaning: "Want", example: "“I would like to go home.”" },
      "Pay for": { meaning: "give money to get something", example: "“I'll pay for the movie tickets.”" },
      "Breakfast": { meaning: "first meal of the day", example: "“Breakfast is my favorite meal.”" },
      "Reserve": { meaning: "to book or keep", example: "“I want to reserve a table.”" },
      "A": { example: "“I will buy a car.”" },
      "Room": { meaning: "a space in a building", example: "“Please, clean your room.”" },
      "Call": { meaning: "contact by phone", example: "“Call me later.”" },
      "The": { example: "“The sun is shining.”" },
      "Hotel": { meaning: "place where people pay to stay", example: "“We stayed at a hotel.”" },
      "Before": { meaning: "earlier than", example: "“Eat breakfast before school.”" },
      "Your": { example: "“Is this your bag?”" },
      "Trip": { meaning: "going away from home", example: "“I went on a trip to Paris.”" },
      "And": { example: "“I like cats and dogs.”" },
      "Tell": { meaning: "say something", example: "“Tell me the time.”" },
      "The": { example: "“The book is on the table.”" },
      "Receptionist": { meaning: "person who works at a front desk", example: "“The receptionist helped me.”" },
      "How many": { meaning: "asking about number", example: "“How many apples do you have?”" },
      "Beds": { meaning: " places to sleep", example: "“They need two beds.”" },
      "You": { example: "“Do you like ice cream?”" },
      "Want": { meaning: "desire or wish for", example: "“I want some water.”" },
      "I": { example: "“I like to sleep.”" },
      "Need": { meaning: "have to", example: "“I need to buy milk.”" },
      "Here": { meaning: "in this place", example: "“Put the bag here.”" },
      "You": { example: "“You look tired.”" },
      "Should": { meaning: "it is a good idea to", example: "“You should rest.”" },
      "Ask": { meaning: "to seek information", example: "“I will ask for directions.”" },
      "Them": { example: "“Say hello to them.”" },
      "If": { meaning: " asking whether", example: "“Ask if he's home.”" },
      "You": { example: "“You need to go.”" },
      "Can": { meaning: " able to", example: "“Can you swim?" },
      "Smoke": { meaning: "to inhale and exhale smoke", example: "“Do not smoke here.”" },
      "In": { meaning: "inside of", example: " “I am in the house.”" },
      "The": { example: "“Close the door.”" },
      "Hotel": { meaning: "place where people pay to stay", example: "“This is a nice hotel.”" },
      "If": { meaning: "asking whether", example: "“Let me know if he comes.”" },
      "They": { example: "“They are my friends.”" },
      "Let": { meaning: "allow", example: "“Let me go.”" },
      "Excuse": { meaning: " used to be polite", example: "“Excuse me, where is the restroom?”" },
      "Think": { meaning: "Believe", example: "“I think she's nice.”" },
      "Heard": { meaning: "past of 'hear'", example: "“I heard a loud sound.”" },
      "A": { example: "“I saw a bird.”" },
      "Dog": { meaning: "an animal with four legs", example: "“The dog is barking.”" },
      "On": { meaning: "Above", example: " “The book is on the table.”" },
      "My": { example: "“This is my phone.”" },
      "Floor": { meaning: "surface you walk on", example: " “The floor is wet.”" },
      "I": { example: "“I am a teacher.”" },
      "Need to": { meaning: "have to", example: " “I need to cook dinner.”" },
      "Unpacked": { meaning: "remove things from", example: " “I unpack my suitcase.”" },
      "But": { meaning: "However", example: "“I'm tired, but I must keep walking.”" },
      "I am": { example: "“I'm here to help you.”" },
      "Late": { meaning: "not on time", example: "“He is always late.”" },

      //level 04
      "Subway": { meaning: "a train system below ground", example: "“I took the subway to work.”" },
      "Kind": { meaning: "Type", example: "“My school is a kind of building.”" },
      "Of": { example: "“She's a friend of mine.”" },
      "public": { meaning: "for everyone", example: " “A park is a public place.”" },
      "Transportation": { meaning: "moving people from one place to another", example: "“I use a bus for transportation.”" },
      "Anybody": { meaning: "any person", example: "“Anybody can learn English.”" },
      "Pay": { meaning: "give money", example: "“I pay for my food.”" },
      "Few": { meaning: "Some", example: "“I have a few friends.”" },
      "Dollar": { meaning: "money in the USA", example: "“I paid five dollars for the book.”" },
      "To": { example: "“I want to eat.”" },
      "Ride": { meaning: "sit on and travel", example: "“I ride my bike to school.”" },
      "Very easy": { meaning: "not hard, simple", example: "“It's very easy to ride a bike.”" },
      "Public transportation": { meaning: "vehicles like buses and trains that everyone can use", example: "“I take public transportation to work.”" },
      "In the": { meaning: "Inside", example: "“I live in the city.”" },
      "City": { meaning: " a large town", example: "“New York is a big city.”" },
      "Easy": { meaning: "not difficult", example: "“The exam is easy.”" },
      "Public": { meaning: "for everyone", example: "“This is a public park.”" },
      "Fare": { meaning: " money you pay to travel", example: "“The bus fare is $2.”" },
      "Price": { meaning: "how much you pay for something", example: " “The price of the toy is $5.”" },
      "Ticket": { meaning: "a document that allows you to enter or travel", example: "“I have my concert ticket.”" },
      "Bus": { meaning: "vehicle that carries many people", example: "“I take the bus to go to school.”" },
      "Subway": { meaning: "train that runs under the ground", example: "“She takes the subway to work.”" },
      "Train": { meaning: "vehicle that runs on rails", example: "“We traveled by train today.”" },
      "Flight": { meaning: "journey by airplane", example: "“He booked a flight to Paris.”" },
      "City": { meaning: "a large town", example: "“I live in the city.”" },
      "Patio": { meaning: "outdoor area next to a house", example: "“We had dinner on the patio.”" },
      "Comfortable": { meaning: "makes you feel relaxed", example: "“These chairs are comfortable.”" },
      "Place": { meaning: "a space or location", example: "“Let's find a quiet place.”" },
      "Where": { meaning: "at or in which", example: "“Where do you live?”" },
      "Sit": { meaning: "be in a seated position", example: "“I sit at my desk.”" },
      "Eat": { meaning: " put food in your mouth and chew", example: "“I eat breakfast every morning.”" },
      "Outside": { meaning: "not inside", example: "“Kids are playing outside.”" },
      "Building": { meaning: "a place with walls and a roof", example: "“They work in a tall building.”" },
      "House": { meaning: " a place where people live", example: "“Her house is down the street.”" },
      "Weather": { meaning: "conditions outside like rain or sun", example: "“The weather is cold.”" },
      "Perfect": { meaning: "very good, no problems", example: "“This day is perfect.”" },
      "Today": { meaning: "this day", example: "“Today is sunny.”" },
      "Do": { meaning: " asks a yes or no question", example: "“Do you want water?”" },
      "Tables": { meaning: "places to eat with a flat top", example: "“We need three tables.”" },
      "Outside": { meaning: "not inside a building", example: "“I like playing outside.”" },
      "Nearby": { meaning: "close in distance", example: "“I live nearby the school.”" },
      "Place": { meaning: "location or area", example: "“This place is beautiful.”" },
      "Far": { meaning: "Distant", example: "“The park is far from here.”" },
      "Away": { meaning: "at some distance", example: "“John lives far away.”" },
      "Really": { meaning: "Very", example: "“He's really happy.”" },
      "Hungry": { meaning: "wanting to eat", example: "“The dog is hungry.”" },
      "Where": { meaning: "in what place", example: "“Where is the cat?”" },
      "Lunch": { meaning: "midday meal", example: " “I have lunch at 12:30.”" },
      "Around": { meaning: "in or near", example: "“There are shops around here.”" },
      "Sunny": { meaning: "bright with sunlight", example: "“The weather is sunny.”" },
      "Outside": { meaning: "not indoors", example: "“We played football outside.”" },
      "Fares": { meaning: "money paid to ride a bus, train", example: "“Train fares are expensive.”" },
      "Higher": { meaning: "more than", example: "“She is taller than him.”" },
      "Hometown": { meaning: "the town where I was born or grew up", example: "“My hometown is beautiful.”" },
      "Museum": { meaning: " place for art or historical objects", example: "“I visited the museum today.”" },
      "Workers": { meaning: "people who do jobs", example: "“The store workers are helpful.”" },
      "Were": { example: "“They were happy.”" },
      "Friendly": { meaning: "kind and nice", example: "“My neighbor is friendly.”" },
      "Photos": { meaning: "Pictures", example: "“I took photos on my trip.”" },
      "With": { meaning: "Using", example: "“Open the door with a key.”" },
      "Phone": { meaning: "device for calls and texts", example: " “I call my mom with my phone.”" },
      "Nice": { meaning: " Pleasant", example: "“That's a nice flower.”" },
      "Sunny": { meaning: "full of sunlight", example: "“What a sunny morning!”" },
      "Day": { meaning: "time between sunrise and sunset", example: "“I went to the park yesterday.”" },
      "Restaurant": { meaning: "place to eat", example: " “I ate at a restaurant last night.”" },
      "Sit": { meaning: " be in a sitting position", example: "“They sit in the back row.”" },
      "Outside": { meaning: "not indoors", example: " “Let's go outside and play.”" },
      "Loved": { meaning: "liked very much", example: "“We loved that movie.”" },
      "That": { example: "“Can you see that?”" },
      "Café": { meaning: "place where you buy coffee", example: "“Let's meet at the café.”" },
      "Chef": { meaning: "person who cooks", example: " “The chef cooked a nice meal.”" },
      "Watch": { meaning: "look and see", example: "“Watch the TV show.”" },
      "When": { meaning: "at the time that", example: "“Tell me when you're ready.”" },
      "Made": { meaning: "Create", example: "“He made a cake.”" },
      "Coffee": { meaning: "a hot drink", example: "“I like coffee.”" },

      // level 5
      "Art": { meaning: "beautiful things", example: "“I enjoy making art.”" },
      "Like": { meaning: "to enjoy or prefer something", example: "I like chocolate." },
      "Best": { meaning: "more than anything else", example: "She is my best friend." },
      "Like best": { meaning: "to enjoy or prefer the most", example: "I like pizza best." },
      "Is": { meaning: "used to show identity or description", example: "He is a teacher." },
      "Your": { meaning: "belonging to you", example: "Your book is on the table." },
      "Favorite": { meaning: "most liked or preferred", example: "Blue is my favorite color." },
      "Thing": { meaning: "an object, idea, or activity", example: "Reading is my favorite thing." },
      "When": { meaning: "at the time something happens", example: "When it rains, we stay inside." },
      "You": { meaning: "the person being spoken to", example: "You are my friend." },
      "Are": { meaning: "a form of the verb 'to be'", example: "You are happy." },
      "Homesick": { meaning: "feeling sad because you miss your home", example: "She felt homesick during her first week at school." },
      "Miss": { meaning: "to feel sad because someone or something is not present", example: "I miss my family." },
      "Your": { meaning: "belonging to you", example: "Your shoes are under the table." },
      "Home": { meaning: "the place where you live or feel most comfortable", example: "He went home after work." },
      "Do": { meaning: "used to form a question", example: "Do you like apples?" },
      "You": { meaning: "the person being spoken to", example: "You are my friend." },
      "Feel": { meaning: "to experience an emotion or sensation", example: "I feel tired today." },
      "Homesick": { meaning: "feeling sad because you miss your home", example: "She felt homesick during her trip." },
      "Spain": { meaning: "a country in Europe", example: "Spain has beautiful architecture." },
      "Was": { meaning: "past form of 'is'", example: "She was happy yesterday." },
      "Country": { meaning: "a nation or land", example: "France is a country in Europe." },
      "I": { meaning: "the person speaking", example: "I am learning English." },
      "Liked": { meaning: "enjoyed or preferred something in the past", example: "I liked the movie." },
      "Best": { meaning: "more than anything else", example: "Pizza is the food I like best." },
      "Really": { meaning: "very much or truly", example: "I really like your idea." },
      "Enjoyed": { meaning: "liked or took pleasure in", example: "She enjoyed the concert." },
      "Gave": { meaning: "past form of 'give'", example: "He gave me a gift." },
      "Hated": { meaning: "strongly disliked", example: "I hated the noise." },
      "Hurt": { meaning: "caused pain", example: "He hurt his arm." },
      "Buildings": { meaning: "structures like houses, schools, or offices", example: "The buildings were tall and beautiful." },
      "There": { meaning: "in that place", example: "We stayed there for a week." },
      "Why": { meaning: "used to ask for a reason", example: "Why are you late?" },
      "Do": { meaning: "used to form a question", example: "Do you like apples?" },
      "You": { meaning: "the person being spoken to", example: "You are my friend." },
      "Look": { meaning: "to appear or seem", example: "You look tired today." },
      "So": { meaning: "very or extremely", example: "She is so happy." },
      "Excited": { meaning: "feeling very happy or enthusiastic", example: "He was excited to meet his favorite singer." },
      "Famous": { meaning: "known by many people", example: "She is a famous artist." },
      "Actor": { meaning: "a person who performs in movies or plays", example: "The actor won an award." },
      "Photo": { meaning: "a picture taken with a camera", example: "I took a photo of the sunset." },
      "Stolen": { meaning: "taken without permission", example: "My phone was stolen." },
      "Bag": { meaning: "a container used to carry things", example: "She packed her bag for school." },
      "Money": { meaning: "currency used to buy things", example: "He saved his money to buy a book." },
      "Sarah": { meaning: "a girl's name", example: "Sarah is my classmate." },
      "Dad": { meaning: "father", example: "Her dad is a doctor." },
      "Has let": { meaning: "has allowed", example: "My teacher has let me leave early." },
      "Her": { meaning: "refers to a female person", example: "I gave her the book." },
      "Borrow": { meaning: "to take something for a short time and return it", example: "Can I borrow your pen?" },
      "Lose": { meaning: "to no longer have something", example: "I might lose my keys." },
      "Break": { meaning: "to damage something", example: "Don’t break the glass." },
      "Steal": { meaning: "to take something without permission", example: "He tried to steal a phone." },
      "Car": { meaning: "a vehicle used for travel", example: "She drives a red car." },
      "Solo": { meaning: "alone or by oneself", example: "He went on a solo trip." },
      "Trip": { meaning: "a journey or travel", example: "We went on a trip to the mountains." },
      "Trains": { meaning: "vehicles that run on tracks", example: "Trains are used for long-distance travel." },
      "Can": { meaning: "able to", example: "She can swim." },
      "Go": { meaning: "to move or travel", example: "We go to school every day." },
      "Very": { meaning: "extremely or a lot", example: "He is very tall." },
      "Far": { meaning: "a long distance", example: "The store is far from here." },
      "Planes": { meaning: "aircraft used for flying", example: "Planes fly across continents." },
      "Farthest": { meaning: "at the greatest distance", example: "The farthest I’ve been is Japan." },
      "The": { meaning: "used to refer to something specific", example: "The book is on the table." },
      "I've": { meaning: "short for 'I have'", example: "I've finished my homework." },
      "Traveled": { meaning: "gone from one place to another", example: "She traveled to Italy last year." },
      "Paris": { meaning: "the capital city of France", example: "Paris is famous for the Eiffel Tower." },
      "Might": { meaning: "could possibly happen", example: "It might rain today." },
      "Dangerous": { meaning: "not safe or likely to cause harm", example: "Climbing without gear is dangerous." },
      "Travel": { meaning: "to go from one place to another", example: "We love to travel in summer." },
      "Alone": { meaning: "without anyone else", example: "She went to the park alone." },
      "Yes": { meaning: "a word used to agree or confirm", example: "Yes, I understand." },
      "On the other hand": { meaning: "used to show contrast or another point of view", example: "He’s tired. On the other hand, he wants to keep working." },
      "Fun": { meaning: "enjoyable or entertaining", example: "The party was so much fun." },
      "Winters": { meaning: "the cold season of the year", example: "Winters here are snowy." },
      "Cold": { meaning: "having a low temperature", example: "The water is cold." },
      "Snow": { meaning: "soft white ice that falls from the sky", example: "Children play in the snow." },
      "Bea": { meaning: "a person's name", example: "Bea is going on a trip." },
      "Really": { meaning: "very much or truly", example: "I really like this book." },
      "Enjoyed": { meaning: "liked or took pleasure in", example: "She enjoyed the concert." },
      "Trip": { meaning: "a journey or travel", example: "We went on a trip to the mountains." },
      "On the other hand": { meaning: "used to show contrast or another point of view", example: "He’s tired. On the other hand, he wants to keep working." },
      "She": { meaning: "refers to a female person", example: "She is my sister." },
      "Very": { meaning: "extremely or a lot", example: "He is very tall." },
      "Tired": { meaning: "feeling the need to rest", example: "I feel tired after running." },
      "Amazing": { meaning: "very impressive or wonderful", example: "The view was amazing." },
      "Nice": { meaning: "pleasant or kind", example: "She is a nice person." },
      "Happy": { meaning: "feeling joy or pleasure", example: "He was happy to see his friend." },
      "Today": { meaning: "the current day", example: "Today is Friday." },
      "Has been": { meaning: "used to describe something that happened and continues", example: "It has been a busy week." },
      "Very": { meaning: "extremely or a lot", example: "She is very kind." },
      "Long": { meaning: "lasting a lot of time", example: "It was a long movie." },
      "Day": { meaning: "a 24-hour period", example: "We had a fun day at the beach." },
      "Feel": { meaning: "to experience an emotion or sensation", example: "I feel happy today." },
      "Tired": { meaning: "needing rest", example: "He felt tired after the hike." },
      "Excited": { meaning: "feeling very happy or eager", example: "She is excited for her birthday." },
      "Trip": { meaning: "a journey or travel", example: "We went on a trip to the mountains." },
      "Tomorrow": { meaning: "the day after today", example: "Tomorrow is Saturday." },
      "On the other hand": { meaning: "used to show contrast or another point of view", example: "He’s tired. On the other hand, he wants to keep working." },
      "Seen": { meaning: "past form of 'see'", example: "I’ve seen that movie before." },
      "Much": { meaning: "a lot", example: "She has learned so much this year." },
      "Continents": { meaning: "large land areas like Asia, Africa, or Europe", example: "There are seven continents on Earth." },
      "Visited": { meaning: "gone to see or explore a place", example: "We visited the museum last week." },
      "Traveled": { meaning: "gone from one place to another", example: "She traveled to Italy last year." },
      "Europe": { meaning: "a continent that includes countries like France, Germany, and Italy", example: "Europe has many famous cities." },
      "South America": { meaning: "a continent that includes countries like Brazil and Argentina", example: "South America is known for the Amazon rainforest." },
      "Paris": { meaning: "the capital city of France", example: "Paris is famous for the Eiffel Tower." },
      "London": { meaning: "the capital city of the United Kingdom", example: "London has many historic landmarks." },
      "Few times": { meaning: "more than once but not many", example: "I’ve watched that movie a few times." },

      // level 6
      "Use": { meaning: "to operate or take advantage of something", example: "I use my phone every day." },
      "Public": { meaning: "for everyone or shared by people", example: "Public parks are open to all." },
      "Transportation": { meaning: "ways of moving people or things", example: "Buses and trains are public transportation." },
      "City": { meaning: "a large town", example: "Karachi is a busy city." },
      "Sell": { meaning: "to exchange something for money", example: "They sell fruit at the market." },
      "Ask": { meaning: "to request information", example: "Can I ask a question?" },
      "Bake": { meaning: "to cook in an oven", example: "She likes to bake cookies." },
      "Take": { meaning: "to go with or use something for travel", example: "We take the bus to school." },
      "Shuttle": { meaning: "a small vehicle that moves people between places", example: "The hotel shuttle goes to the airport." },
      "Wear": { meaning: "to have clothes or accessories on your body", example: "She wears a red dress." },
      "Kick": { meaning: "to hit something with your foot", example: "He kicked the ball." },
      "Study": { meaning: "to learn or review something", example: "I study English every day." },
      "Reserve": { meaning: "to book or arrange something in advance", example: "We reserved a table at the restaurant." },
      "Room": { meaning: "a space in a building for sleeping or living", example: "My room has a bed and a desk." },
      "Online": { meaning: "using the internet", example: "She bought the tickets online." },
      "Name": { meaning: "what someone is called", example: "Her name is Sara." },
      "Works": { meaning: "has a job or does tasks", example: "He works at a hospital." },
      "Plane": { meaning: "a vehicle that flies in the air", example: "The plane landed safely." },
      "Small": { meaning: "not big in size", example: "This box is small." },
      "Smaller": { meaning: "less big than something else", example: "My phone is smaller than yours." },
      "Traveler": { meaning: "someone who goes from one place to another", example: "The traveler packed his bag." },
      "Bag": { meaning: "a container used to carry things", example: "She put her books in the bag." },
      "Much": { meaning: "a lot or by a large amount", example: "This book is much better." },
      "Very": { meaning: "used to emphasize something", example: "He is very tall." },
      "Bigger": { meaning: "larger in size", example: "Her house is bigger than mine." },
      "Easy": { meaning: "not difficult", example: "This question is easy." },
      "Use": { meaning: "to operate or take advantage of something", example: "I use my phone every day." },
      "Public": { meaning: "for everyone or shared by people", example: "Public parks are open to all." },
      "Transportation": { meaning: "ways of moving people or things", example: "Buses and trains are public transportation." },
      "Buses": { meaning: "large vehicles that carry people", example: "We took the bus to school." },
      "Trams": { meaning: "electric street vehicles for public transport", example: "The tram goes through the city center." },
      "Let": { meaning: "to allow someone to do something", example: "We let the children play outside." },
      "Guests": { meaning: "people who visit or stay somewhere", example: "The hotel has many guests." },
      "Pool": { meaning: "a place to swim", example: "They swam in the pool." },
      "After": { meaning: "later than a time or event", example: "We eat dinner after sunset." },
      "Weeks": { meaning: "periods of seven days", example: "There are four weeks in a month." },
      "Tickets": { meaning: "pieces of paper or digital passes for entry", example: "We bought tickets for the concert." },
      "Numbers": { meaning: "symbols that show quantity", example: "She wrote the numbers on the board." },
      "Let": { meaning: "to allow someone to do something", example: "They let us leave early." },
      "Bring": { meaning: "to take something or someone with you", example: "I bring my lunch to school." },
      "Dog": { meaning: "a common pet animal", example: "Her dog is very friendly." },
      "Café": { meaning: "a small restaurant where you can buy drinks and snacks", example: "We met at the café." },
      "Asked": { meaning: "requested something", example: "He asked us to help him." },
      "Pay": { meaning: "to give money for something", example: "We pay for our food." },
      "Cash": { meaning: "money in the form of coins or notes", example: "She paid in cash." },
      "Card": { meaning: "a plastic payment method", example: "He paid by card." },
      "Seat": { meaning: "a place to sit", example: "She took a seat near the window." },
      "Smaller": { meaning: "less big than something else", example: "My phone is smaller than yours." },
      "Much": { meaning: "a lot or by a large amount", example: "This book is much better." },
      "Very": { meaning: "used to emphasize something", example: "He is very tall." },
      "Heavy": { meaning: "weighing a lot", example: "This bag is heavy." },
      "Heavier": { meaning: "more heavy than something else", example: "Her suitcase is heavier than mine." },
      "Luggage": { meaning: "bags and suitcases for travel", example: "We packed our luggage for the trip." },
    };


    // Define questions for each level
    const questions = {
      1: [
        {
          type: "mcq",
          question: 'Read and respond: <br> solo means alone. <br> What does "solo" mean?',
          options: ["by yourself", "with your friends", "with your parents"],
          answer: "by yourself",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },

        {
          type: "arrange",
          question: 'I usually travel solo because I do not like to travel with ________.',
          words: ["people", "Jeans", "pillows", "tables"],
          answer: "people",
        },
        {
          type: "mcq",
          question: 'Read And Respond: <br> Plans take off and leave one airport. A few hours later, They land at another airport. <br> What does "land" mean?',
          options: ["For an actor to get famous", "For a plane to arrive", "For a car to leave"],
          answer: "For a plane to arrive",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: 'Complete the chat: <br> "when does our flight land?"',
          options: ["We will be busy tomorrow. How about Friday?", "We will be in New York in 40 minutes."],
          answer: "We will be in New York in 40 minutes.",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: 'Read and respond: <br> "When you do something for the first time, you have never done it before that time." <br> What does "for the first time" means?',
          options: ["as usual", "as a new experience", "without any help"],
          answer: "as a new experience",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "arrange",
          question: "Fill in the blanks: <br> I'm traveling solo for the first time, so I'm very __________ !",
          words: ["Short", "excited", "fat", "windy"],
          answer: "excited",
        },
        {
          type: "mcq",
          question: 'Complete the chat: <br> Are you traveling to the US for the first time?',
          options: ["Yes, I've seen that guy on TV many times!", "Yes, I've never been there before."],
          answer: "Yes, I've never been there before.",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: 'Read And Respond: <br> A traveler is a person who travels. <br> What does "traveler" means?',
          options: ["somewhere you go on vacation", "somebody who takes trips", "something you travel to see"],
          answer: "somebody who takes trips",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: 'Complete the chat: <br> How many countries have you been to?',
          options: ["Not many. I'm not a big traveler.", "My grandparents are from France."],
          answer: "Not many. I'm not a big traveler.",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "arrange",
          question: "Fill in the blanks: <br> Our __________ just landed!",
          words: ["plane", "evening", "country", "mouth"],
          answer: "plane",
        },
        {
          type: "mcq",
          question: 'Complete the chat: <br> "My daughter is a traveler, too. She visits a new country every month."',
          options: ["Wow, how cool! Where is she now?", "Yes, I have a window seat. It's 14A."],
          answer: "Wow, how cool! Where is she now?",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "arrange",
          question: "Fill in the blanks: <br> My suitcase is much __________ than my backpack.",
          words: ["heavier", "evening", "country", "mouth"],
          answer: "heavier",
        },
        {
          type: "listen",
          question: 'Listen and type: <br> need travelers hotels trains and',
          say: "Travelers need trains and hotels",
          answer: "Travelers need trains and hotels",
        },
        {
          type: "listen",
          question: "Listen and type: <br> Our three flight lands at right o'clock",
          say: "Our flight lands at three o'clock right",
          answer: "Our flight lands at three o'clock right",
        },

      ],
      2: [
        {
          type: "mcq",
          question: 'Read and Respond: <br> I bought tickets for a flight that lands at 10 a.m. because I prefer an early arrival. <br>What does “arrival” mean?',
          options: ["staying at a place", "leaving a place", "getting to a place"],
          answer: "getting to a place",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: 'Complete the chat: <br> "Excuse me, do you know our arrival time?"',
          options: ["We should be in New York at 3 p.m.", "We should take off our hats now."],
          answer: "We should be in New York at 3 p.m.",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: 'Read and Respond: <br> Travelers can take a short ride on a shuttle to travel between two nearby places.<br> What does “shuttle” mean?',
          options: ["a long, difficult trip", "a quiet type of bird", "a type of bus or train"],
          answer: "a type of bus or train",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: "Read and Respond: <br> We need to ------------ this shuttle to Kevin's house.",
          options: ["kick", "study", "wear", "take"],
          answer: "take",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            // utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: 'Complete the chat: <br> "How can I get downtown?"',
          options: ["There's an airport shuttle, or you can get a taxi.", "There's a nice café inside. I love their desserts!"],
          answer: "There's an airport shuttle, or you can get a taxi.",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: 'Read and Respond: <br> "When you enter a new country, the airport workers check your passport at passport control. <br> What does “passport control” mean?"',
          options: ["a document for travel", "a place for an ID check", "a person who watches you"],
          answer: "a place for an ID check",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: 'Read and Respond: <br> "I only check your passport and ----------- at the passport control."',
          options: ["visa", "lunch", "nose", "world"],
          answer: "visa",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: 'Complete the chat: <br> "Why is the line at passport control so long?"',
          options: ["Well, five flights arrived at the same time.", "Well, I like flying, but now I'm a little tired."],
          answer: "Well, five flights arrived at the same time.",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: "Read and Respond: <br> My suitcase is too heavy, so I can't ------------ much farther.",
          options: ["ask", "sing", "walk", "read"],
          answer: "walk",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: 'Complete the chat: <br> "Can I get on a bus here?"',
          options: ["No, you can't smoke here. Look at the sign!", "No, it stops over there, near the gift shop."],
          answer: "No, it stops over there, near the gift shop.",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: "Complete the chat: <br> Can you help me? I can't find the subway station.'",
          options: ["Just walk a little farther, you can't miss it.", "Walk for an hour daily, and you'll feel better."],
          answer: "Just walk a little farther, you can't miss it.",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: 'Read and Respond: <br> "Should I wait for the taxi over there, or -----------?"',
          options: ["here", "too", "now"],
          answer: "here",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: "Read and Respond: <br> Grandma can only walk one or two miles. The store is farther than that, so let's.",
          options: ["fly", "run", "drive"],
          answer: "drive",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: 'Read and Respond: <br> "I love Japan. Over there, the trains are ------------ modern than in my city."',
          options: ["many", "much more", "much"],
          answer: "much more",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
      ],
      3: [
        {
          type: "mcq",
          question: 'Read and Respond: <br> "After I got to my room, I unpacked my suitcase and put my clothes in the closet.<br> What does “unpack” mean?',
          options: ["take things out of a suitcase", "put things in a refrigerator", "take out the trash tomorrow"],
          answer: "take things out of a suitcase",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "listen",
          question: "Listen and type: <br> my I can't bags but find my unpacked hat I",
          say: "I unpacked my bags but I can't find my hat.",
          answer: "I unpacked my bags but I can't find my hat.",
        },
        {
          type: "mcq",
          question: 'Read and Respond: <br> "When you do the laundry, you wash your clothes.<br> What does “laundry” mean?',
          options: ["a sport with water", "clothes you need to clean", "a clean, friendly animal"],
          answer: "clothes you need to clean",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
         {
          type: "listen",
          question: "Listen and type: <br> I'm laundry Can help today. you doing me?",
          say: "I'm doing laundry today. Can you help me?",
          answer: "I'm doing laundry today. Can you help me?",
        },
        {
          type: "mcq",
          question: 'Read and Respond: <br> Excuse me, do you have a laundry room?',
          options: ["Yes, and it's an amazing book! You should read it!", "Yes, and it's free for the guests of our hotel."],
          answer: "Yes, and it's free for the guests of our hotel.",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: 'Read and Respond: <br> I paid for the hotel room, but breakfast costs extra. I had to pay again.<br> What does “extra” mean?',
          options: ["more", "free", "little"],
          answer: "more",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: 'Fill in the blanks:: <br> If you want to stay another night, it will ----------- extra.',
          options: ["cost", "travel", "find", "fly"],
          answer: "cost",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: "Read and Respond: <br> Here's your room key! Would you like to pay for breakfast?",
          options: ["Oh, does it cost extra?", "Oh, does he cook well?"],
          answer: "Oh, does it cost extra?",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: "Read and Respond: <br> To reserve a room, call the hotel before your trip and tell the receptionist how many beds you want. <br> What does “reserve” mean?",
          options: ["leave without telling Mom", "make dirty before my arrival", "keep available for you"],
          answer: "keep available for you",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: "Fill in the blanks: <br>I need to reserve a -----------, but no one's here!",
          options: ["goal", "life", "mistake", "room"],
          answer: "room",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: "Read and Respond: <br>You should ask them if you can smoke in the hotel. You can only smoke if they let you. <br> What does “let you” mean?",
          options: ["say that you can", "talk very loud", "tell you not to"],
          answer: "say that you can",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "listen",
          question: "Listen and type: <br> let won’t my they room me change.",
          say: "They won’t let me change my room.",
          answer: "They won't let me change my room.",
        },
        {
          type: "mcq",
          question: "Fill in the blanks: <br> Excuse me, I think I heard a dog on my floor.",
          options: ["That's possible. We let our guests bring small pets.", "That's a great idea! I've always wanted another pet!"],
          answer: "That's possible. We let our guests bring small pets",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: "Fill in the blanks: <br> I need to unpack my ----------, but I'm late!",
          options: ["zoo", "math", "wall", "bag"],
          answer: "bag",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "listen",
          question: "Listen and type: <br>   the I less restaurant was we thoght reserved that expensive.",
          say: "I thought the restaurant that we reserved was less expensive.",
          answer: "I thought the restaurant that we reserved was less expensive.",
        },
      ],
      4: [
        {
          type: "mcq",
          question: "Read and Respond: <br> The subway is a kind of public transportation. Anybody can pay a few dollar to ride it. <br> What does “public transportation” mean?",
          options: ["buses, trains, and subways", "a giant car just for you", "an empty flight or hotel"],
          answer: "buses, trains, and subways",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: "Fill in the blanks: <br> It's very easy to ---------- the public transportation in the city.",
          options: ["bake", "sell", "use", "bag"],
          answer: "use",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: "Complete the Chat: <br> Is it easy to use public transportation here?",
          options: ["Yes, I have. I've been to every museum here.", "Oh yes, there are lots of buses and trains!"],
          answer: "Oh yes, there are lots of buses and trains!",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "listen",
          question: "Listen and type: <br> public she improve said she’ll that She transportation",
          say: "She said that she’ll improve public transportation.",
          answer: "She said that she’ll improve public transportation.",
        },
        {
          type: "mcq",
          question: "Read and Respond: <br> The fare is the price of the ticket for a bus, subway, train, or flight. <br> What does “fare” mean?",
          options: ["cost to ride", "bank worker", "price of gas"],
          answer: "cost to ride",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: "Fill in the blanks: <br> Excuse me, how ---------- is the bus fare to the city?",
          options: ["loud", "much", "free", "cold"],
          answer: "much",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: "Read and Respond: <br> A patio is a comfortable place where you can sit and eat. It's outside of a building of house. <br> What does “patio” mean?",
          options: ["somewhere you relax outside", "a deep swimming pool", "an expensive restaurant"],
          answer: "somewhere you relax outside",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: "Complete the Chat: <br> The weather is perfect today. Do you have tables outside?",
          options: ["Of course I'll buy you a new desk!", "Of course! You can sit on the patio."],
          answer: "Of course! You can sit on the patio.",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: "Read and Respond: <br>A nearby place is not far away. <br> What does “nearby” mean?",
          options: ["empty", "open", "close"],
          answer: "close",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: "Complete the Chat: <br>I'm really hungry. Where can I have lunch around here?",
          options: ["One day I will open my own restaurant!", "The nearby coffee shop has great sandwiches!"],
          answer: "The nearby coffee shop has great sandwiches!",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "listen",
          question: "Listen and type: <br> coffee nearby has sandwiches the shop great",
          say: "The nearby coffee shop has great sandwiches",
          answer: "The nearby coffee shop has great sandwiches",
        },
        {
          type: "mcq",
          question: "Read and Respond: <br> It's sunny today. Let's go outside and have ------------ on the patio!",
          options: ["streets", "questions", "lunch", "clothing"],
          answer: "lunch",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: "Complete the Chat: <br> The bus fares here are higher than in my hometown.",
          options: ["Really? How much do you usually pay?", "Really? How much free time do you have?"],
          answer: "Really? How much do you usually pay?",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: "Fill in the blanks: <br> The museum workers were really friendly and let me ----------- photos with my phone.",
          options: ["take", "taking", "takes"],
          answer: "take",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: "Fill in the blanks: <br> It was a nice, sunny day, so the restaurant let us ----------- outside.",
          options: ["sit", "sitting", "sets"],
          answer: "sit",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: "Fill in the blanks: <br> We loved that café. The chef let us ----------- when he made coffee art.",
          options: ["watch", "watches", "watching"],
          answer: "watch",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },


      ],
      5: [
        {
          type: "mcq",
          question: "Read and Respond: <br> What you like best is your favorite thing.",
          options: ["cross", "prefer", "hate"],
          answer: "prefer",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: "Read and Respon: <br> When you are homesick, you miss your home.<br> What does 'homesick' mean?",
          options: ["Tired after a long day", "Excited to go on a trip", "Sad while away from home"],
          answer: "Sad while away from home",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {

          type: "mcq",
          question: "Read and Respond: <br> Do you feel homesick?<br> What does “homesick” mean?",
          options: ["happy to be away", "miss your home", "ready to travel"],
          answer: "miss your home",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {

          type: "mcq",
          question: 'Read and respond: <br> Spain was the country I liked best. I really ----------- the buildings there.',
          options: ["enjoyed", "gave", "hated", "hurt"],
          answer: "enjoyed",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: 'Complete the Chat: <br> Why do you look so excited?',
          options: ["A famous actor has let me take a photo with him.", "Someone has stolen my bag, and now I have no money."],
          answer: "A famous actor has let me take a photo with him.",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: 'Read and respond: <br> Sarah\'s dad has let her ------------ his car for her first solo trip.',
          options: ["lose", "break", "steal", "borrow"],
          answer: "borrow",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: 'Read and respond: <br> Trains can go very far. Planes can go the farthest. The ----------- I have traveld was to Paris.',
          options: ["farthest", "far"],
          answer: "farthest",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: 'Complete the Chat: <br> It might be dangerous to travel alone.',
          options: ["Yes, but, on the other hand, it's so much fun!", "Yes, winters here are cold, but I like the snow."],
          answer: "Yes, but, on the other hand, it's so much fun!",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: 'Read and respond: <br> Bea really enjoyed her trip! On the other hand, she is very -----------.',
          options: ["tired", "amazing", "nice", "happy"],
          answer: "tired",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: 'Complete the Chat:<br> Today has been a very long day, and I feel so tired!',
          options: ["Yes, I'm also excited about our trip tomorrow!", "Yes, but on the other hand, you've seen so much!"],
          answer: "Yes, but on the other hand, you've seen so much!",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: 'Read and respond: <br> What continents have you visited?',
          options: ["I've been to Paris and London a few times.", "I've traveled around Europe and South America."],
          answer: "I've traveled around Europe and South America.",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
      ],
      6: [
        {
          type: "mcq",
          question: "Read and Respond: <br> It's very easy to ----------- the public transportation in the city.",
          options: ["sell", "ask", "use", "bake"],
          answer: "use",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: "Complete the Chat: <br> Did you reserve a room online?",
          options: ["Yes, Anna works here, too.", "Yes, my name is Anna Smith."],
          answer: "Yes, my name is Anna Smith.",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: "Read and Respond: <br> That traveler’s bag is [choose the correct word] bigger.",
          options: ["much", "very"],
          answer: "much",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: "Complete the Chat: <br> Is it easy to use public transportation here?",
          options: ["Yes, I have. I've been to every museum here.", "Oh yes, there are lots of buses and trams!"],
          answer: "Oh yes, there are lots of buses and trams!",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: "Read and Respond: <br> We don't let ----------- use the pool after 8 o'clock.",
          options: ["weeks", "tickets", "guests", "numbers"],
          answer: "guests",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: "Read and Respond: <br> He let me ---------- my dog to the café.",
          options: ["to bring", "bring"],
          answer: "bring",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
        {
          type: "mcq",
          question: "Read and Respond: <br> His seat is ----------- smaller than ours.",
          options: ["much", "very"],
          answer: "much",
          audio: function () {
            let text = this.question.replace(/<br>/g, " ");
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9; // slower and clearer
            speechSynthesis.speak(utterance);
          }
        },
      ],
      7: [
        { type: "mcq", question: 'Translate "Apple"', options: ["Manzana", "Perro", "Casa"], answer: "Manzana" },
        { type: "mcq", question: 'Translate "Dog"', options: ["Gato", "Perro", "Mesa"], answer: "Perro" },
        { type: "arrange", question: 'Arrange to form', words: ["student", "I", "am", "a"], answer: "I am a student" },
        { type: "arrange", question: 'Arrange to form', words: ["friend", "my", "are", "You"], answer: "You are my friend" }
      ],
      8: [
        { type: "listen", question: 'Listen and type: "Hello"', say: "Hello", answer: "hello" },
        { type: "listen", question: 'Listen and type: "Goodbye"', say: "Goodbye", answer: "goodbye" },
        { type: "speak", question: 'Say: "Good morning"', answer: "good morning" },
        { type: "speak", question: 'Say: "Thank you"', answer: "thank you" }
      ],
      9: [
        { type: "mcq", question: 'Translate "Good"', options: ["Bueno", "Mal", "Feliz"], answer: "Bueno" },
        { type: "mcq", question: 'Translate "Morning"', options: ["Noche", "Mañana", "Tarde"], answer: "Mañana" },
        { type: "arrange", question: 'Arrange to form', words: ["morning", "good", "Good"], answer: "Good morning" },
        { type: "arrange", question: 'Arrange to form', words: ["thank", "you", "I"], answer: "I thank you" }
      ],
      10: [
        { type: "mcq", question: 'Translate "Good"', options: ["Bueno", "Mal", "Feliz"], answer: "Bueno" },
        { type: "mcq", question: 'Translate "Morning"', options: ["Noche", "Mañana", "Tarde"], answer: "Mañana" },
        { type: "arrange", question: 'Arrange to form', words: ["morning", "good", "Good"], answer: "Good morning" },
        { type: "arrange", question: 'Arrange to form', words: ["thank", "you", "I"], answer: "I thank you" }
      ],
    };
    // Initialize the app
    function startApp() {
      const name = document.getElementById('username').value.trim();
      const userClass = document.getElementById('class').value.trim();
      const campus = document.getElementById('campus').value.trim();

      if (name && userClass && campus) {
        user = name;
        document.getElementById('login').classList.add('hidden');
        document.getElementById('loading').classList.remove('hidden');

        // Update user data
        const users = getUserData();
        if (!users[name]) {
          users[name] = {
            xp: 0,
            streak: 0,
            level: 1,
            lastLogin: new Date().toISOString(),
            progress: {},
            hearts: 5,
            class: userClass,
            campus: campus
          };
        } else {
          // Update class & campus if changed
          users[name].class = userClass;
          users[name].campus = campus;
        }

        // Check and update streak
        const lastLogin = new Date(users[name].lastLogin);
        const today = new Date();
        if (today.toDateString() !== lastLogin.toDateString()) {
          if ((today - lastLogin) / (1000 * 60 * 60 * 24) < 2) {
            users[name].streak += 1;
          } else {
            users[name].streak = 1;
          }
        }

        users[name].lastLogin = new Date().toISOString();
        users[name].hearts = 5; // Reset hearts
        saveUserData(users);

        // Update UI
        xp = users[name].xp;
        streak = users[name].streak;
        document.getElementById('xpNav').innerText = xp;
        document.getElementById('streak').innerText = streak;
        document.getElementById('xp').innerText = xp;

        setTimeout(() => {
          document.getElementById('loading').classList.add('hidden');
          showRoadmap();
        }, 1500);
      } else {
        alert("Please enter your name, class, and campus to begin.");
      }
    }

    // Admin panel functions
    function showAdminLogin() {
      document.getElementById('adminPanel').style.display = 'block';
      document.getElementById('adminLogin').style.display = 'block';
      document.getElementById('adminContent').style.display = 'none';
    }

    function hideAdminPanel() {
      document.getElementById('adminPanel').style.display = 'none';
    }

    function adminLogin() {
      const username = document.getElementById('adminUsername').value;
      const password = document.getElementById('adminPassword').value;

      if (username === ADMIN_CREDENTIALS.username && password === ADMIN_CREDENTIALS.password) {
        document.getElementById('adminLogin').style.display = 'none';
        document.getElementById('adminContent').style.display = 'block';
        loadUserData();
      } else {
        alert('Invalid admin credentials!');
      }
    }

    function loadUserData() {
      const users = getUserData();
      const statsDiv = document.getElementById('userStats');
      statsDiv.innerHTML = '';

      Object.entries(users).forEach(([username, data]) => {
        const card = document.createElement('div');
        card.className = 'user-card';
        card.innerHTML = `
      <div><strong>${username}</strong></div>
      <div>Class: ${data.class || "N/A"}</div>
      <div>Campus: ${data.campus || "N/A"}</div>
      <div>Level: <span>${data.level}</span></div>
      <div>XP: <span>${data.xp}</span></div>
      <div>Streak: <span>${data.streak}</span></div>
      <div>Hearts: <span>${data.hearts}</span></div>
      <div>Last Login: ${new Date(data.lastLogin).toLocaleString()}</div>
    `;
        statsDiv.appendChild(card);
      });
    }

    function exportUserData() {
      const users = getUserData();
      const dataStr = JSON.stringify(users, null, 2);
      const blob = new Blob([dataStr], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'lingo-users.json';
      a.click();
    }

    function resetAllData() {
      if (confirm("Are you sure you want to reset all user data? This cannot be undone.")) {
        localStorage.removeItem('lingoUsers');
        localStorage.removeItem('levelProgress');
        loadUserData();
        alert("All data has been reset.");
      }
    }

    function showRoadmap() {
      document.getElementById('roadmap-container').classList.remove('hidden');
      document.getElementById('lesson').classList.add('hidden');
      document.getElementById('lessonComplete').classList.add('hidden');
      const roadmap = document.getElementById("roadmap");
      const progress = parseInt(localStorage.getItem("levelProgress") || "1");

      // Clear existing roadmap
      roadmap.innerHTML = '';

      for (let i = 1; i <= 10; i++) {
        const step = document.createElement("div");
        step.className = `step`;
        step.style.setProperty('--i', i);

        const node = document.createElement("div");
        node.className = "level-node";

        const levelText = document.createElement("div");
        levelText.textContent = `Level ${i}`;
        node.appendChild(levelText);

        // Add icon based on status
        const icon = document.createElement("i");
        if (i <= progress) {
          node.classList.add("unlocked");
          node.onclick = () => {
            startLevel(i);
          };

          if (i < progress) {
            node.classList.add("completed");
            icon.className = "fas fa-check";
          } else {
            icon.className = "fas fa-arrow-right";
          }
        } else {
          icon.className = "fas fa-lock";
        }

        node.appendChild(icon);

        // Add progress percentage for completed levels
        if (i < progress) {
          const progressText = document.createElement("div");
          progressText.className = "level-progress";
          progressText.textContent = "100% Complete";
          step.appendChild(progressText);
        }

        step.appendChild(node);
        roadmap.appendChild(step);
      }
    }

    function startLevel(level) {
      selectedLevel = level;
      currentQuestion = 0;
      correctAnswersInLesson = 0;

      // Get user data to set hearts
      const users = getUserData();
      if (users[user]) {
        updateHearts(users[user].hearts);
      }

      document.getElementById('roadmap-container').classList.add('hidden');
      document.getElementById('lesson').classList.remove('hidden');
      document.getElementById('currentLevelBadge').textContent = level;
      loadQuestion();
    }

    function loadQuestion() {
      const q = questions[selectedLevel][currentQuestion];
      const titleEl = document.getElementById("questionTitle");
      titleEl.innerHTML = wrapWordsWithTooltip(q.question);
      addTooltipListeners(titleEl);
      const content = document.getElementById("questionContent");
      content.innerHTML = "";

      const resultEl = document.getElementById("result");
      resultEl.innerText = "";
      resultEl.className = "result-feedback hidden";

      document.getElementById("nextButton").classList.add('hidden');

      // Show image if available
      if (q.image) {
        const img = document.createElement("img");
        img.src = q.image;
        img.className = "question-image";
        content.appendChild(img);
      }

      if (q.type === "mcq") {
        const optionsContainer = document.createElement("div");
        optionsContainer.className = "mcq-options";

        // 🔊 add replay button + autoplay
        if (q.audio) {
          const replayBtn = document.createElement("button");
          replayBtn.className = "btn btn-secondary";
          replayBtn.innerHTML = '<i class="fas fa-volume-up"></i> Listen again';
          replayBtn.onclick = () => q.audio();
          content.appendChild(replayBtn);

          q.audio(); // autoplay once

          q.options.forEach(opt => {
            const btn = document.createElement("button");
            btn.className = "mcq-option";
            btn.innerText = opt;
            btn.onclick = () => checkMCQ(opt, q.answer, btn);
            optionsContainer.appendChild(btn);
          });
          content.appendChild(optionsContainer);


        }

      } else if (q.type === "arrange") {
        let shuffled = [...q.words].sort(() => 0.5 - Math.random());
        const container = document.createElement("div");
        container.id = "arrangeWords";
        shuffled.forEach(word => {
          const span = document.createElement("span");
          span.className = "word";
          span.innerText = word;
          span.onclick = () => selectWord(span);
          container.appendChild(span);
        });
        const answerBox = document.createElement("div");
        answerBox.id = "answerBox";
        content.appendChild(container);
        content.appendChild(answerBox);
        const checkBtn = document.createElement("button");
        checkBtn.className = "btn btn-primary";
        checkBtn.innerText = "Check Answer";
        checkBtn.onclick = () => checkArrange(q.answer);
        content.appendChild(checkBtn);
      } else if (q.type === "listen") {
        const speakBtn = document.createElement("button");
        speakBtn.className = "btn btn-primary";
        speakBtn.innerHTML = '<i class="fas fa-volume-up"></i> Play';
        speakBtn.onclick = () => speakText(q.say);
        content.appendChild(speakBtn);

        const inputGroup = document.createElement("div");
        inputGroup.style.marginTop = "20px";

        const input = document.createElement("input");
        input.type = "text";
        input.id = "listenInput";
        input.placeholder = "Type what you hear";
        inputGroup.appendChild(input);

        const checkBtn = document.createElement("button");
        checkBtn.className = "btn btn-primary";
        checkBtn.style.marginTop = "15px";
        checkBtn.innerText = "Check Answer";
        checkBtn.onclick = () => {
          const val = input.value.toLowerCase().trim();
          showResult(val === q.answer.toLowerCase());
        };
        inputGroup.appendChild(checkBtn);

        content.appendChild(inputGroup);
      } else if (q.type === "speak") {
        const micBtn = document.createElement("button");
        micBtn.className = "btn btn-primary";
        micBtn.innerHTML = '<i class="fas fa-microphone"></i> Start Speaking';
        micBtn.onclick = startSpeechRecognition;
        content.appendChild(micBtn);

        const status = document.createElement("p");
        status.id = "speechStatus";
        status.innerText = "Click the button and speak the phrase clearly";
        status.style.marginTop = "15px";
        content.appendChild(status);
      }

      updateProgressBar();
    }

    function wrapWordsWithTooltip(text) {
      return text.split(/\s+/).map(word => {
        const clean = word.replace(/[^a-zA-Z]/g, "").toLowerCase();
        if (dictionary[clean]) {
          const tooltip = `${dictionary[clean].meaning}\nExample: ${dictionary[clean].example}`;
          return `<span class="tooltip">${word}<span class="tooltiptext">${tooltip}</span></span>`;
        }
        return word;
      }).join(" ");
    }

    function addTooltipListeners(container) {
      container.querySelectorAll(".tooltip").forEach(el => {
        el.addEventListener("mouseenter", () => {
          const word = el.textContent.toLowerCase();
          if (dictionary[word]) {
            speakText(word);
          }
        });
      });
    }

    function updateProgressBar() {
      const progress = (currentQuestion / questions[selectedLevel].length) * 100;
      document.getElementById("progressBar").style.width = progress + "%";
      document.getElementById("progressPercentage").textContent = Math.round(progress) + "%";
    }

    function updateHearts(count) {
      for (let i = 1; i <= 5; i++) {
        const heart = document.getElementById(`heart${i}`);
        if (i > count) {
          heart.classList.add('lost');
        } else {
          heart.classList.remove('lost');
        }
      }
    }

    function checkMCQ(selected, answer, button) {
      const correct = selected === answer;

      // Visual feedback
      if (correct) {
        button.classList.add("correct");
      } else {
        button.classList.add("incorrect");
        // Highlight correct answer
        const options = document.querySelectorAll('.mcq-option');
        options.forEach(opt => {
          if (opt.textContent === answer) {
            opt.classList.add("correct");
          }
        });
      }

      // Disable all buttons after selection
      document.querySelectorAll('.mcq-option').forEach(btn => {
        btn.disabled = true;
      });

      showResult(correct);
    }

    function selectWord(span) {
      const clone = span.cloneNode(true);
      clone.onclick = () => {
        document.getElementById("answerBox").removeChild(clone);
        span.style.visibility = "visible";
      };
      document.getElementById("answerBox").appendChild(clone);
      span.style.visibility = "hidden";
    }

    function checkArrange(answer) {
      const words = Array.from(document.getElementById("answerBox").children).map(w => w.innerText);
      showResult(words.join(" ") === answer);
    }

    function speakText(text) {
      if ('speechSynthesis' in window) {
        const msg = new SpeechSynthesisUtterance(text);
        msg.rate = 0.7; // slow down (1 = normal speed)
        window.speechSynthesis.speak(msg);
      } else {
        alert("Speech synthesis not supported in your browser.");
      }
    }


    function startSpeechRecognition() {
      if (!('webkitSpeechRecognition' in window)) {
        alert("Speech recognition not supported in your browser.");
        return;
      }
      const recognition = new webkitSpeechRecognition();
      recognition.lang = 'en-US';
      recognition.onresult = function (event) {
        const spoken = event.results[0][0].transcript.toLowerCase().trim();
        const expected = questions[selectedLevel][currentQuestion].answer.toLowerCase();
        document.getElementById("speechStatus").innerText = `You said: "${spoken}"`;
        showResult(spoken === expected);
      };
      recognition.start();
    }

    function showResult(correct) {
      const result = document.getElementById("result");
      const winSound = document.getElementById("winSound");
      const oopsSound = document.getElementById("oopsSound");

      if (correct) {
        result.innerText = "✅ Correct! +10 XP";
        result.className = "result-feedback result-correct";
        xp += 10;
        correctAnswersInLesson++;
        winSound.play();
        createConfetti();

        // Update user data
        const users = getUserData();
        if (users[user]) {
          users[user].xp = xp;
          users[user].streak = parseInt(document.getElementById('streak').innerText);
          users[user].level = unlockedLevel;
          saveUserData(users);
        }
      } else {

        result.innerText = "❌ Try Again!";
        result.className = "result-feedback result-incorrect";
        oopsSound.play();

        // Lose a heart
        const users = getUserData();
        if (users[user]) {
          users[user].hearts -= 1;
          saveUserData(users);
          updateHearts(users[user].hearts);

          // Check if out of hearts
          if (users[user].hearts <= 0) {
            setTimeout(() => {
              alert("You're out of hearts! Practice makes perfect. Try again later.");
              document.getElementById("lesson").classList.add("hidden");
              showRoadmap();
            }, 1000);
          }
        }
      }

      document.getElementById("xp").innerText = xp;
      document.getElementById("xpNav").innerText = xp;

      // Show next button if not the last question
      if (currentQuestion < questions[selectedLevel].length - 1) {
        document.getElementById("nextButton").classList.remove('hidden');
      }

      if (correct && currentQuestion === questions[selectedLevel].length - 1) {
        // Level completed
        if (selectedLevel >= unlockedLevel) {
          unlockedLevel++;
          localStorage.setItem("levelProgress", unlockedLevel);

          // Update user progress
          const users = getUserData();
          if (users[user]) {
            users[user].level = unlockedLevel;
            saveUserData(users);
          }
        }

        // Show lesson complete screen after a short delay
        setTimeout(() => {
          showLessonComplete();
        }, 1500);
      }

      result.classList.remove('hidden');
    }

    function showLessonComplete() {
      document.getElementById("lesson").classList.add("hidden");
      document.getElementById("lessonComplete").classList.remove("hidden");

      const percentage = Math.round((correctAnswersInLesson / questions[selectedLevel].length) * 100);
      const totalXp = correctAnswersInLesson * 10;

      document.getElementById("totalXp").textContent = totalXp;

      // Animate progress circle
      const circumference = 2 * Math.PI * 40;
      const offset = circumference - (percentage / 100) * circumference;
      document.getElementById("progressCircle").style.strokeDasharray = circumference;
      document.getElementById("progressCircle").style.strokeDashoffset = offset;
      document.getElementById("progressText").textContent = `${percentage}%`;

      // Show appropriate message based on performance
      let message = "GOOD EFFORT";
      if (percentage >= 90) message = "EXCELLENT WORK!";
      else if (percentage >= 70) message = "GREAT JOB";
      else if (percentage >= 50) message = "GOOD EFFORT";
      else message = "KEEP PRACTICING";

      document.getElementById("performanceText").textContent = message;

      document.getElementById('levelUpSound').play();
      createConfetti();
    }

    function createConfetti() {
      for (let i = 0; i < 50; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.left = Math.random() * 100 + 'vw';
        confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
        confetti.style.animationDelay = Math.random() * 5 + 's';
        document.body.appendChild(confetti);

        // Remove confetti after animation
        setTimeout(() => {
          confetti.remove();
        }, 5000);
      }
    }

    function nextQuestion() {
      currentQuestion++;
      if (currentQuestion < questions[selectedLevel].length) {
        loadQuestion();
      }
    }

    // Initialize the app
    window.onload = function () {
      unlockedLevel = parseInt(localStorage.getItem("levelProgress") || "1");

      // Check if user was previously logged in
      const users = getUserData();
      const userKeys = Object.keys(users);
      if (userKeys.length > 0) {
        // Auto-login the first user (for demo purposes)
        user = userKeys[0];
        document.getElementById('username').value = user;
        document.getElementById('xpNav').innerText = users[user].xp;
        document.getElementById('streak').innerText = users[user].streak;
      }

      // Add scroll event listener for navbar
      window.addEventListener('scroll', function () {
        const navbar = document.getElementById('navbar');
        if (window.scrollY > 10) {
          navbar.classList.add('scrolled');
        } else {
          navbar.classList.remove('scrolled');
        }
      });
    };

    function addTooltipListeners(container) {
      container.querySelectorAll(".tooltip").forEach(el => {
        // Get the first child node which should be the text node containing the word
        const wordNode = el.childNodes[0];
        if (wordNode && wordNode.nodeType === Node.TEXT_NODE) {
          const word = wordNode.textContent.toLowerCase().trim();
          el.addEventListener("mouseenter", () => {
            if (dictionary[word]) {
              speakText(word);
            }
          });
        }
      });
    }
  </script>
</body>

</html>



